{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7b7a67b7_c478456b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000070
      },
      "writtenOn": "2025-05-29T09:08:32Z",
      "side": 1,
      "message": "It would be nice to test this somehow, but I have no idea how to do it \"properly\".",
      "revId": "956dbc6447676a914baa77529823744c7bed271d",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "96d3753a_5ef55b35",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2025-05-29T09:56:38Z",
      "side": 1,
      "message": "I don\u0027t a test for this either, but it just threw on PGCL250305:\n\n```\nThread 2 (Thread 0xb6653020 (LWP 271)):\n#0  0xb67a6cec in __wait4_time64 () from /lib/libc.so.6\n#1  0x004dd1f8 in boost::process::detail::posix::wait (p\u003d..., exit_code\u003d\u003coptimized out\u003e, ec\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/arm-buildroot-linux-gnueabihf/sysroot/usr/include/boost/process/detail/posix/wait_for_exit.hpp:29\n#2  boost::process::child::wait (this\u003d\u003coptimized out\u003e, ec\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/arm-buildroot-linux-gnueabihf/sysroot/usr/include/boost/process/detail/child_decl.hpp:180\n#3  boost::process::child::wait (this\u003d0xbeacbbac, ec\u003d\u003csynthetic pointer\u003e...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/arm-buildroot-linux-gnueabihf/sysroot/usr/include/boost/process/detail/child_decl.hpp:175\n#4  boost::process::child::wait (this\u003d0xbeacbbac) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/arm-buildroot-linux-gnueabihf/sysroot/usr/include/boost/process/detail/child_decl.hpp:124\n#5  velia::utils::execAndWait (logger\u003d\u003cerror reading variable: Cannot access memory at address 0x1\u003e, absolutePath\u003d..., args\u003d..., std_in\u003d..., opts\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/utils/exec.cpp:64\n#6  0x0043c5f4 in operator()\u003cvelia::system::IETFInterfacesConfig::ChangedUnits\u003e (__closure\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/main-system.cpp:109\n#7  std::__invoke_impl\u003cvoid, main(int, char**)::\u003clambda(const auto:46\u0026)\u003e\u0026, const velia::system::IETFInterfacesConfig::ChangedUnits\u0026\u003e (__f\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:61\n#8  std::__invoke_r\u003cvoid, main(int, char**)::\u003clambda(const auto:46\u0026)\u003e\u0026, const velia::system::IETFInterfacesConfig::ChangedUnits\u0026\u003e (__fn\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:111\n#9  std::_Function_handler\u003cvoid(const velia::system::IETFInterfacesConfig::ChangedUnits\u0026), main(int, char**)::\u003clambda(const auto:46\u0026)\u003e \u003e::_M_invoke(const std::_Any_data \u0026, const velia::system::IETFInterfacesConfig::ChangedUnits \u0026) (__functor\u003d..., __args#0\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:290\n#10 0x004aa558 in std::function\u003cvoid (velia::system::IETFInterfacesConfig::ChangedUnits const\u0026)\u003e::operator()(velia::system::IETFInterfacesConfig::ChangedUnits const\u0026) const (this\u003d0xbeacc924, __args#0\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:591\n#11 velia::system::IETFInterfacesConfig::moduleChange (this\u003d\u003coptimized out\u003e, session\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/system/IETFInterfacesConfig.cpp:155\n#12 0x004abf4c in operator()\u003csysrepo::Session, unsigned int, std::__cxx11::basic_string\u003cchar\u003e, std::optional\u003cstd::__cxx11::basic_string\u003cchar\u003e \u003e, sysrepo::Event, unsigned int\u003e (__closure\u003d0x6a1348, session\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/system/IETFInterfacesConfig.cpp:81\n#13 std::__invoke_impl\u003csysrepo::ErrorCode, velia::system::IETFInterfacesConfig::IETFInterfacesConfig(sysrepo::Session, std::filesystem::__cxx11::path, std::vector\u003cstd::__cxx11::basic_string\u003cchar\u003e \u003e, reload_cb_t)::\u003clambda(auto:39, auto:40, auto:41, auto:42, auto:43, auto:44)\u003e\u0026, sysrepo::Session, unsigned int, const std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e\u0026, const std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e\u0026, sysrepo::Event, unsigned int\u003e (__f\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:61\n#14 std::__invoke_r\u003csysrepo::ErrorCode, velia::system::IETFInterfacesConfig::IETFInterfacesConfig(sysrepo::Session, std::filesystem::__cxx11::path, std::vector\u003cstd::__cxx11::basic_string\u003cchar\u003e \u003e, reload_cb_t)::\u003clambda(auto:39, auto:40, auto:41, auto:42, auto:43, auto:44)\u003e\u0026, sysrepo::Session, unsigned int, const std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e\u0026, const std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e\u0026, sysrepo::Event, unsigned int\u003e (__fn\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:114\n#15 std::_Function_handler\u003csysrepo::ErrorCode(sysrepo::Session, unsigned int, const std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e\u0026, const std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e\u0026, sysrepo::Event, unsigned int), velia::system::IETFInterfacesConfig::IETFInterfacesConfig(sysrepo::Session, std::filesystem::__cxx11::path, std::vector\u003cstd::__cxx11::basic_string\u003cchar\u003e \u003e, reload_cb_t)::\u003clambda(auto:39, auto:40, auto:41, auto:42, auto:43, auto:44)\u003e \u003e::_M_invoke(const std::_Any_data \u0026, sysrepo::Session \u0026\u0026, unsigned int \u0026\u0026, const std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u0026, const std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e \u0026, sysrepo::Event \u0026\u0026, unsigned int \u0026\u0026) (__functor\u003d..., __args#0\u003d..., __args#1\u003d@0xbeacbfac: 0, __args#1@entry\u003d@0xbeacbfac: 48, __args#2\u003d..., __args#3\u003d..., __args#4\u003d@0xbeacbfb8: sysrepo::Event::Done, __args#5\u003d@0xbeacbfbc: 0) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:290\n#16 0xb6d22b7c in std::function\u003csysrepo::ErrorCode (sysrepo::Session, unsigned int, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, sysrepo::Event, unsigned int)\u003e::operator()(sysrepo::Session, unsigned int, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, sysrepo::Event, unsigned int) const (this\u003d0x69c3f8, __args#0\u003d..., __args#1\u003d\u003coptimized out\u003e, __args#2\u003d..., __args#3\u003d..., __args#4\u003d\u003coptimized out\u003e, __args#5\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/sysrepo-cpp/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:591\n#17 sysrepo::(anonymous namespace)::moduleChangeCb (session\u003d\u003coptimized out\u003e, subscriptionId\u003d48, moduleName\u003d\u003coptimized out\u003e, subXPath\u003d\u003coptimized out\u003e, event\u003dSR_EV_DONE, requestId\u003d0, privateData\u003d0x69c3f8) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-cpp-custom/src/Subscription.cpp:95\n#18 0xb6d448cc in sr_module_change_subscribe_enable (session\u003d0x7e0750, mod_info\u003d0x81b358, ly_mod\u003d\u003coptimized out\u003e, xpath\u003d\u003coptimized out\u003e, callback\u003d0xb6d22a50 \u003csysrepo::(anonymous namespace)::moduleChangeCb(sr_session_ctx_t*, uint32_t, char const*, char const*, sr_event_t, uint32_t, void*)\u003e, private_data\u003d0x69c3f8, sub_id\u003d3059317272, opts\u003d6931448) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-custom/src/sysrepo.c:6131\n#19 sr_module_change_subscribe (session\u003d0x7e0750, module_name\u003d0x502278 \u003c(anonymous namespace)::IETF_INTERFACES_MODULE_NAME+8\u003e \"ietf-interfaces\", xpath\u003d0x820130 \"/ietf-interfaces:interfaces\", callback\u003d0xb6d22a50 \u003csysrepo::(anonymous namespace)::moduleChangeCb(sr_session_ctx_t*, uint32_t, char const*, char const*, sr_event_t, uint32_t, void*)\u003e, private_data\u003d0x69c3f8, priority\u003d0, opts\u003d12, subscription\u003d0xbeacc0f4) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-custom/src/sysrepo.c:6295\n#20 0xb6d26a90 in sysrepo::Subscription::onModuleChange(std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::function\u003csysrepo::ErrorCode (sysrepo::Session, unsigned int, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, sysrepo::Event, unsigned int)\u003e, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, unsigned int, sysrepo::SubscribeOptions) (this\u003dthis@entry\u003d0xbeacc25c, moduleName\u003d..., cb\u003d..., xpath\u003d..., priority\u003d0, priority@entry\u003d4877972, opts\u003d(sysrepo::SubscribeOptions::DoneOnly | sysrepo::SubscribeOptions::Enabled), opts@entry\u003d(sysrepo::SubscribeOptions::DoneOnly | sysrepo::SubscribeOptions::Enabled | sysrepo::SubscribeOptions::Update | unknown: 0xbeacc200)) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-cpp-custom/src/Subscription.cpp:202\n--Type \u003cRET\u003e for more, q to quit, c to continue without paging--c\n#21 0xb6d12b68 in sysrepo::Session::onModuleChange(std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::function\u003csysrepo::ErrorCode (sysrepo::Session, unsigned int, std::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e const\u0026, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, sysrepo::Event, unsigned int)\u003e, std::optional\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e const\u0026, unsigned int, sysrepo::SubscribeOptions, std::function\u003cvoid (std::exception\u0026)\u003e, std::optional\u003csysrepo::FDHandling\u003e const\u0026) (this\u003dthis@entry\u003d0xbeacc95c, moduleName\u003d..., cb\u003d..., xpath\u003d..., priority\u003dpriority@entry\u003d0, opts\u003dopts@entry\u003d(sysrepo::SubscribeOptions::DoneOnly | sysrepo::SubscribeOptions::Enabled), handler\u003d..., callbacks\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-cpp-custom/src/Session.cpp:485\n#22 0x004a6e94 in velia::system::IETFInterfacesConfig::IETFInterfacesConfig(sysrepo::Session, std::filesystem::__cxx11::path, std::vector\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e, std::allocator\u003cstd::__cxx11::basic_string\u003cchar, std::char_traits\u003cchar\u003e, std::allocator\u003cchar\u003e \u003e \u003e \u003e, std::function\u003cvoid (velia::system::IETFInterfacesConfig::ChangedUnits const\u0026)\u003e) (this\u003d0xbeacc91c, this@entry\u003d0x74d320, srSess\u003d..., configDirectory\u003d..., managedLinks\u003d..., reloadCallback\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/optional:235\n#23 0x00438a68 in main (argc\u003d\u003coptimized out\u003e, argv\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:211\n\nThread 1 (Thread 0xb38ff100 (LWP 299)):\n#0  0xb674fcc4 in ?? () from /lib/libc.so.6\n#1  0xb6706df4 in raise () from /lib/libc.so.6\n#2  0xb66f2180 in abort () from /lib/libc.so.6\n#3  0xb693990c in __gnu_cxx::__verbose_terminate_handler() () from /lib/libstdc++.so.6\n#4  0xb6937484 in ?? () from /lib/libstdc++.so.6\n#5  0xb692c240 in std::terminate() () from /lib/libstdc++.so.6\n#6  0xb693784c in __cxa_throw () from /lib/libstdc++.so.6\n#7  0xb6d14e88 in sysrepo::Session::mt_lock (mtx\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-cpp-custom/include/sysrepo-cpp/Session.hpp:204\n#8  sysrepo::Session::activeDatastore (this\u003dthis@entry\u003d0xb38fdfd0) at /home/jkt/work/prog/_build/_br-cfb/build/sysrepo-cpp-custom/src/Session.cpp:118\n#9  0x004ea4bc in velia::utils::ScopedDatastoreSwitch::ScopedDatastoreSwitch (this\u003d0xb38fdfd0, session\u003d..., ds\u003dsysrepo::Datastore::Operational) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/shared_ptr_base.h:1095\n#10 velia::utils::valuesPush (session\u003d..., values\u003d..., foreignRemovals\u003d..., ourRemovals\u003d...) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/utils/sysrepo.cpp:123\n#11 0x0049f648 in velia::system::IETFInterfaces::onLinkUpdate (this\u003d0x68f4e4, link\u003dwarning: could not convert \u0027rtnl_link\u0027 from the host encoding (ANSI_X3.4-1968) to UTF-32.\nThis normally should not happen, please file a bug report.\n0xb38fe338, action\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/system/IETFInterfaces.cpp:259\n#12 0x004d525c in std::function\u003cvoid (rtnl_link*, int)\u003e::operator()(rtnl_link*, int) const (this\u003d0x717e00, __args#0\u003d\u003coptimized out\u003e, __args#1\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_function.h:591\n#13 (anonymous namespace)::nlCacheMngrCallbackWrapper (obj\u003d0xb1704df8, action\u003d5, data\u003d0x717e00) at /home/jkt/work/prog/_build/_br-cfb/build/velia-custom/src/system/Rtnetlink.cpp:37\n#14 0xb6afc538 in ?? () from /lib/libnl-3.so.200\n#15 0xb6afc7cc in nl_cache_include () from /lib/libnl-3.so.200\n#16 0xb6b3758c in ?? () from /lib/libnl-route-3.so.200\n#17 0xb6afbe94 in nl_cache_parse () from /lib/libnl-3.so.200\n#18 0xb6afd344 in ?? () from /lib/libnl-3.so.200\n#19 0xb6b02fb4 in nl_recvmsgs_report () from /lib/libnl-3.so.200\n#20 0xb6afdb68 in nl_cache_mngr_data_ready () from /lib/libnl-3.so.200\n#21 0xb6afdc94 in nl_cache_mngr_poll () from /lib/libnl-3.so.200\n#22 0x004d59d4 in velia::system::impl::nlCacheMngrWatcher::run (this\u003d0x74d1f0, manager\u003d...) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/shared_ptr_base.h:1666\n#23 0x004d758c in std::__invoke_impl\u003cvoid, void (velia::system::impl::nlCacheMngrWatcher::*)(std::shared_ptr\u003cnl_cache_mngr\u003e), velia::system::impl::nlCacheMngrWatcher*, std::shared_ptr\u003cnl_cache_mngr\u003e \u003e (__f\u003d\u003coptimized out\u003e, __t\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:74\n#24 std::__invoke\u003cvoid (velia::system::impl::nlCacheMngrWatcher::*)(std::shared_ptr\u003cnl_cache_mngr\u003e), velia::system::impl::nlCacheMngrWatcher*, std::shared_ptr\u003cnl_cache_mngr\u003e \u003e (__fn\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/invoke.h:96\n#25 std::thread::_Invoker\u003cstd::tuple\u003cvoid (velia::system::impl::nlCacheMngrWatcher::*)(std::shared_ptr\u003cnl_cache_mngr\u003e), velia::system::impl::nlCacheMngrWatcher*, std::shared_ptr\u003cnl_cache_mngr\u003e \u003e \u003e::_M_invoke\u003c0u, 1u, 2u\u003e (this\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_thread.h:301\n#26 std::thread::_Invoker\u003cstd::tuple\u003cvoid (velia::system::impl::nlCacheMngrWatcher::*)(std::shared_ptr\u003cnl_cache_mngr\u003e), velia::system::impl::nlCacheMngrWatcher*, std::shared_ptr\u003cnl_cache_mngr\u003e \u003e \u003e::operator() (this\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_thread.h:308\n#27 std::thread::_State_impl\u003cstd::thread::_Invoker\u003cstd::tuple\u003cvoid (velia::system::impl::nlCacheMngrWatcher::*)(std::shared_ptr\u003cnl_cache_mngr\u003e), velia::system::impl::nlCacheMngrWatcher*, std::shared_ptr\u003cnl_cache_mngr\u003e \u003e \u003e \u003e::_M_run (this\u003d\u003coptimized out\u003e) at /home/jkt/work/prog/_build/_br-cfb/per-package/velia/host/opt/ext-toolchain/arm-buildroot-linux-gnueabihf/include/c++/14.2.0/bits/std_thread.h:253\n#28 0xb696564c in ?? () from /lib/libstdc++.so.6\n#29 0xb674dd40 in ?? () from /lib/libc.so.6\n```",
      "parentUuid": "7b7a67b7_c478456b",
      "revId": "956dbc6447676a914baa77529823744c7bed271d",
      "serverId": "e32f8df8-3db0-4f76-a6c6-fe9d6e69dd68"
    }
  ],
  "submitRequirementResults": []
}